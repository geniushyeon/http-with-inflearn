# 인터넷 네트워크
## 1. 인터넷 통신
인터넷에서 컴퓨터 둘은 어떻게 통신할까?
- 클라이언트와 서버가 가깝다면 선으로 연결해서 통신하면 되지만, 먼 경우에는 그렇게 통신하지 못한다.
- 그래서 클라이언트와 서버 사이에 `인터넷`이라는 것이 있다. 
- IP란?

## 2. IP(인터넷 프로토콜)
### 2.1. 인터넷 프로토콜의 역할
- 지정한 IP Address에 데이터 전달
- 패킷(Packet)이라는 통신 단위로 데이터 전달
  - 패킷에는 출발지 IP, 목적지 IP를 적어 만든다.
  - 그리고 패킷 안에 메시지를 담아 보낸다.
### 2.2. IP 프로토콜의 한계
1. 비연결성
- 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
2. 비신뢰성
- 중간에 패킷이 사라지면? 
- 패킷이 순서대로 안 오면?
3. 프로그램 구분
- 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?
- -> 이러한 문제를 해결해주는 아이들이 `TCP`와 `UDP`

## 3. TCP, UDP
### 3.1. 인터넷 프로토콜 스택의 4계층
|인터넷 프로토콜 스택의 4계층|프로토콜|
|:---:|:---:|
|애플리케이션 계층|HTTP, FTP
|전송 계층|TCP, UDP
|인터넷 계층|IP
|네트워크 인터페이스 계층|-|

### 3.2. 패킷 전달 과정
1. 프로그램이 'Hello, world!' 메시지 생성
2. socket 라이브러리를 통해 전달
3. TCP 정보 생성, 메시지 데이터 포함
4. IP 패킷 생성, TCP 데이터 포함

> 참고: Packet = Package + Bucket의 합성어

### 3.3. TCP의 특징
전송 제어 프로토콜(Transmission Control Protocol)
- 연결 지향: TCP 3 way handshake(가상 연결)
- 데이터 전달 보증
- 순서 보장
  - 패킷1, 패킷2, 패킷3 순서로 전송 -> 패킷1, 패킷3, 패킷2 순서로 도착 -> 패킷2부터 다시 보내!
- 신뢰할 수 있는 프로토콜
- 현재는 대부분 TCP 사용

### 3.4. 3 way handshake
1. SYN (Client -> Server)
2. SYN + ACK (Server -> Client)
- -> 이 과정에서는 헤더 부분만 전송.
3. ACK (Client -> Server)
4. 데이터 전송 (Server -> Client)<br/>
- -> 이 과정에서는 헤더 + 데이터 부분이 함께 전송됨.

- 3번 과정에서 데이터 전송 가능

### 3.5. UDP의 특징
사용자 데이터그램 프로토콜(User Datagram Protocol)
- 하얀 도화지에 비유(기능이 거의 없음)
- 연결지향 - TCP 3 way handshake X
- 데이터 전달 보증 X
- 순서 보장 X
- 데이터 전달 및 순서가 보장되지 않지만, `단순하고 빠름`
- IP와 거의 같음 + POST + 체크섬 정도만 추가
- 애플리케이션에서 추가 작업 필요
- 💡 최근 각광받는 추세

## 4. PORT
한번에 둘 이상 연결해야 하면?
- IP + PORT
  - IP: 목적지 서버를 찾음
  - PORT: 같은 IP 내에서 프로세스 구분

### 4.1. 포트 번호
0~65535 할당 가능
- 0~1023: 잘 알려진 포트. 사용하지 않는 것이 좋음
  - FTP: 20, 21
  - TELENET: 23
  - HTTP: 80
  - HTTPS: 443

## 5. DNS
### 5.1. IP의 문제
- 기억하기 어렵다.
- 변경될 수 있다.
- -> 그래서 나온 것이 DNS

### 5.2. DNS
도메인 네임 시스템
- 전화번호부 같은 존재
- 도메인 명 -> IP 주소로 변환

### 5.3. 웹 페이지에 접속할 때 일어나는 일
도메인 명 입력(google.com) -> DNS 서버에서 도메인 명에 해당하는 IP 주소 찾음 -> 클라이언트에게 응답 -> 해당 IP 주소로 접속